<form 
    id="ticketFormElement"
    method="POST" 
    action="{{ editingTicket ? '/tickets/' ~ editingTicket.id ~ '/edit' : '/tickets' }}" 
    class="bg-slate-800 rounded-lg p-6 border border-slate-700"
>
    <h2 class="text-2xl font-bold text-white mb-6">
        {{ editingTicket ? 'Edit Ticket' : 'Create New Ticket' }}
    </h2>

    <div class="space-y-4">
        <div>
            <label for="title" class="block text-sm font-medium text-slate-300 mb-2">
                Title
            </label>
            <input
                id="title"
                type="text"
                name="title"
                value="{{ editingTicket ? editingTicket.title : '' }}"
                required
                class="w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"
                placeholder="Ticket title"
                aria-label="Ticket title"
            />
        </div>

        <div>
            <label for="description" class="block text-sm font-medium text-slate-300 mb-2">
                Description
            </label>
            <textarea
                id="description"
                name="description"
                rows="4"
                required
                class="w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"
                placeholder="Describe the issue..."
                aria-label="Ticket description"
            >{{ editingTicket ? editingTicket.description : '' }}</textarea>
        </div>

        <div class="grid grid-cols-2 gap-4">
            <div>
                <label for="status" class="block text-sm font-medium text-slate-300 mb-2">
                    Status
                </label>
                <select
                    id="status"
                    name="status"
                    class="w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"
                    aria-label="Ticket status"
                >
                    <option value="open" {{ editingTicket and editingTicket.status == 'open' ? 'selected' : '' }}>Open</option>
                    <option value="in_progress" {{ editingTicket and editingTicket.status == 'in_progress' ? 'selected' : '' }}>In Progress</option>
                    <option value="closed" {{ editingTicket and editingTicket.status == 'closed' ? 'selected' : '' }}>Closed</option>
                </select>
            </div>

            <div>
                <label for="priority" class="block text-sm font-medium text-slate-300 mb-2">
                    Priority
                </label>
                <select
                    id="priority"
                    name="priority"
                    class="w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"
                    aria-label="Ticket priority"
                >
                    <option value="low" {{ editingTicket and editingTicket.priority == 'low' ? 'selected' : '' }}>Low</option>
                    <option value="medium" {{ editingTicket and editingTicket.priority == 'medium' ? 'selected' : '' }}>Medium</option>
                    <option value="high" {{ editingTicket and editingTicket.priority == 'high' ? 'selected' : '' }}>High</option>
                </select>
            </div>
        </div>

        <button
            type="submit"
            class="w-full py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors"
        >
            {{ editingTicket ? 'Update Ticket' : 'Create Ticket' }}
        </button>
    </div>
</form>
